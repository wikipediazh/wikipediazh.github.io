var icons = [
    {
        title: 'Placeholder',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'W for Wikipedia! A Wikipedia W on top of a Wikipedia puzzle piece.',
        image: 'Wikipedia_zh_placeholder_logo.svg',
        date: 'August 10 2002',
        tool: 'Adobe Illustrator',
        creation:
            'I wanted this design to be as neutral as possible -- neutral being that, people would perceive this as nothing else other than Wikipedia. At the moment when I come up with this design, no other icon designs use white as background, so white becomes the go-to for my neutrality.',
    },
    {
        title: 'Q&A',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'Two dialogue pop-ups, one with the Wikipedia W, the other one with a question mark.',
        image: 'Q&A.svg',
        date: 'October 26 2018',
        tool: 'Sketch',
        creation:
            'Similiar to the Placeholder logo, here the idea was to be neutral and unthemed, so again, white background.',
    },
    {
        title: 'Blackbox',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'BevinKacon'],
        description: "A darker square in front of a greyer one, depicting a 'black' 'box'.",
        image: 'Wikipedia_zh_blackbox_logo.svg',
        date: 'c. End of 2017',
        tool: 'Adobe Illustrator',
        creation:
            'This is the first icon I created back in 2017. It is simple (compared to, say, weather balloon), but on a retrospect it is concise and powerful.',
    },
    {
        title: 'Blacklist',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'BevinKacon', 'PewDiePie'],
        description: "A darker square in front of a greyer one, depicting a 'black' 'box'.",
        image: 'Wikipedia_zh_blacklist.svg',
        date: 'May 03 2019',
        tool: 'Sketch',
        creation:
            'This is the first icon I created back in 2017. It is simple (compared to, say, weather balloon), but on a retrospect it is concise and powerful.',
    },
    {
        title: 'Flaming Light',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'A flame inside a light bulb.',
        image: 'RanDeng.svg',
        date: 'February 18 2019',
        tool: 'Sketch',
        creation:
            "My user name on Wikipedia is '燃灯', which means 'flaming light' in Chinese. One day I decided to make myself an avatar, but I thought that just drawing a torch was not enough to fully reveal my mischievous nature, so instead I used a light bulb. I tried to make the light bulb look like it is emitting light, but at the moment I didn't have Adobe Illustrator with me, and Sketch was glitched for gradient colors, so I used several circles to approximate the effect of a radial gradient.",
    },
    {
        title: 'Weather ballon',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A weather ballon roaming in the hurricane eye.',
        image: 'Wikipedia_zh_weather_ballon.svg',
        date: 'February 18 2019',
        tool: 'Sketch',
        creation:
            "I have always wanted this -- in the middle of a gargantuan storm, a man-made creation is rising up to the sky, delivering the sense of fighting against the unknown. What I've always had in my mind was a helicopter suspending in the middle of a thunderstorm, but for this one I made it weather-themed. A weather ballon bravely rises up through the eye of a hurricane, up to the clear sky above the cloud, fighting for its bright future. The redness adds contrast and drama.",
    },
    {
        title: 'LGBT',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0'],
        description: 'A white Wikipedia puzzle piece in front of the rainbow pride flag.',
        image: 'Wikipedia_zh_LGBT.svg',
        date: 'April 1 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Great Fire Wall',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A paper plane flying on the top of the Great Wall.',
        image: 'GFW.svg',
        date: 'March 26 2019',
        tool: 'Sketch',
        creation:
            'The Great Wall is hinting the Great Firewall. Paper plane is frequently used as icons for VPN / proxy apps. ',
    },
    {
        title: 'Wikipedia-Zh Archived',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: "A Wikipedia W, with a white banner and a lock on the top that says 'read only'.",
        image: 'Wikipedia_zh_locked_logo.svg',
        date: 'March 31 2018',
        tool: 'Adobe Illustrator',
        creation:
            "Derivative work of <a href='https://commons.wikimedia.org/wiki/File:Wikipedia_zh_logo.svg'>File:Wikipedia_zh_logo.svg</a> by me under <a href='license.html#CC-BY-SA%204.0'>CC-BY-SA 4.0</a>, which itself is a derivative work of ShiromiCat. The background is changed to red as a warning color; added a white banner so as to resemble the no entry traffic sign. I carefully picked the font for the 'READ ONLY' text to make it looks like stencils used for road paints.",
    },
    {
        title: 'Wikinews-Zh Archived',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: "The Wikinews Logo with a white banner and a lock on the top that says 'read only'.",
        image: 'Wikinews_zh_locked_logo.svg',
        date: 'May 29 2018',
        tool: 'Adobe Illustrator',
        creation:
            "Derivative work of <a href='https://commons.wikimedia.org/wiki/File:Wikinews_favicon.svg'>File:Wikinews_favicon.svg</a> (check the page for the authors) under <a href='license.html#CC-BY-SA%204.0'>CC-BY-SA 4.0</a>. The background is changed to red as a warning color; added a white banner so as to resemble the no entry traffic sign. I carefully picked the font for the 'READ ONLY' text to make it looks like stencils used for road paints.",
    },
    {
        title: 'Math',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A giant PI on top of a bunch of math symbols.',
        image: 'Math.svg',
        date: 'c. April 2019',
        tool: 'Sketch',
        creation:
            "At first there is only a giant PI. I thought it would be enough, but then I went on to experiment on mathematician's stereotype 'a professor standing in front of a giant blackboard full of alien symbols', and I think it looks nicer this way (although the symbols mean nothing to anybody).",
    },
    {
        title: 'Music',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A headphone on a yellow background.',
        image: 'Music.svg',
        date: 'March 8 2019',
        tool: 'Sketch',
        creation:
            "I thought about using a music note to do the job, but it does not feel 'pop' enough (the Telegram group chat whose logo I was designing for was very into pop music). So I used a headphone instead. The background color is also a fully-saturated bright yellow to make it 'new' and 'modern'.",
    },
    {
        title: 'Gavel',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A gavel (and its sit).',
        image: 'Gavel.svg',
        date: 'March 8 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Military',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A light blue fighter jet.',
        image: 'Military.svg',
        date: 'c. April 2019',
        tool: 'Sketch',
        creation:
            "Usually people would think of a tank when they come across the word 'military'. I tried, but all my attempts resulted in a 'cute' tank (due to the visual style). I turned to the Noun project for motif and inspirations. When I searched for the keyword 'military', I got a lot of tanks indeed, but I also saw a fighter jet. That gave me new ideas and here is what I have.",
    },
    {
        title: 'Sports',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A soccer ball on its soccer field (with alternating green shades).',
        image: 'Sports.svg',
        date: 'February 16 2019',
        tool: 'Sketch',
        creation:
            'At first it was a planar soccer ball, but I found it hard to draw (because soccer ball is a sphere, not a circle), so I found some soccer ball image on Google and drew from it. And then I changed the background into its current alternating color to vitalize the soccer ball.',
    },
    {
        title: 'Traffic Light',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description:
            'A traffic light hung on a cable, with its two facets facing the audiences. The left facet has its red light on, while the right facet has its yellow light on.',
        image: 'Traffic Light.svg',
        date: 'February 16 2019',
        tool: 'Sketch',
        creation:
            "The traffic light was hung on a cable, so it was only natural to assume that the background would be sky. Yet the blue shade has been taken by many other icons, so I had to change the background color to this light blue. As for the traffic light itself, normally people would see red light on one side and GREEN light on the other side, so a 'red - yellow' pair would add in more 'momentum' (light color pending change).",
    },
    {
        title: 'Typhoon Path',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie', 'NARUTO'],
        description: 'A white typhoon symbol on top of its (covered and predicted) path.',
        image: 'Typhoon Path.svg',
        date: 'March 8 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Bulletin',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'A speaker.',
        image: 'Bulletin.svg',
        date: 'March 8 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Books',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: "A pile of books, with a 'reflist' card on the top.",
        image: 'Books.svg',
        date: 'March 22 2019',
        tool: 'Sketch',
        creation:
            'The intention here is that all the books in this stack are to be used as references on Wikipedia, making it an in-joke of Wikipedia',
    },
    {
        title: 'Girl Power!',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: "A woman's face silhouette viewed from the side. A white flower",
        image: 'Female.svg',
        date: 'c. April 2019',
        tool: 'Sketch',
        creation: 'White flower to highlight the elegancy.',
    },
    {
        title: 'Surveillance Camera',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'NARUTO'],
        description: "A woman's face silhouette viewed from the side. A white flower",
        image: 'CCTV.svg',
        date: 'March 30 2019',
        tool: 'Sketch',
        creation: 'White flower to highlight the elegancy.',
    },
    {
        title: 'Mini Wiki Surveillance',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'NARUTO'],
        description: 'Four small spheres orbiting a giant white sphere.',
        image: 'Mini-wikipedia_surveillance_channel_logo.svg',
        date: 'March 21 2018',
        tool: 'Adobe Illustrator',
        creation: "I wanted to create a structure that conveys the feelings of 'attached but independent'.",
    },
    {
        title: 'Parliament',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'Two white arcs surrounding a dark grey podium.',
        image: 'Parliament.svg',
        date: 'September 21 2019',
        tool: 'Adobe Illustrator',
        creation: 'An overly-simlified presentation of the European Parliament.',
    },
    {
        title: 'Illuminati',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'An illuminati eye on a brown triangle.',
        image: 'Illuminati.svg',
        date: 'April 2 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Typography',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Sans'],
        description:
            "Two letters in geometric sans serif, 'A' and 'a', are sitting between their baseline and cap height line.",
        image: 'Typography.svg',
        date: 'April 5 2019',
        tool: 'Sketch',
        creation:
            'A dashed line going in between the two letters, denoting the x-height of this font family. I used a reddish hue for the shadow, so that the whole design feels warmer.',
    },
    {
        title: 'Voice Of Zhwiki',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Sans'],
        description: 'A black microphone on the microphone stand.',
        image: 'Microphone.svg',
        date: 'c. April 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Repeaters',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0'],
        description: 'Three repeater machines.',
        image: 'Repeaters.svg',
        date: 'c. April 2019',
        tool: 'Sketch',
        creation:
            "Three repeaters to dramatize <a href='https://zh.wikipedia.org/wiki/%E5%A4%8D%E8%AF%BB%E6%9C%BA'>the repeater sarcasm</a>.",
    },
    {
        title: 'Floody',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: "A water drop on top of a Chinese character, '群'.",
        image: 'Flood.svg',
        date: 'March 31 2019',
        tool: 'Sketch',
        creation:
            "I thought about making it look like Kanagawa (the first 'flood' that come up to my mind), but it was too hard to draw.",
    },
    {
        title: 'Movie',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'BevinKacon'],
        description: 'A clapperboard with a Wikipedia W on it.',
        image: 'Movie.svg',
        date: 'February 17 2019',
        tool: 'Sketch & Adobe Illustrator',
        creation:
            'This brown shade is really hard to find a matching color. It is a warm color, so I tried to pick from other warm colors (red, dark brown, light yellow, etc.). ',
    },
    {
        title: 'Photography',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'A camera facing its audience.',
        image: 'Photography.svg',
        date: 'April 5 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Bio & Med',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'DNA chains and pulse curve.',
        image: 'Wikipedia_zh_biomed.svg',
        date: 'February 16 2019',
        tool: 'Sketch',
        creation:
            'Nothing much to say here. The DNA chain and the pulse are the two biggest undisputable thing (I believe) when people mention biology and medicine.',
    },
    {
        title: 'Broken heart',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'NARUTO'],
        description: 'A white heart with two black chains and one IV tube.',
        image: 'Lonely Heart.svg',
        date: 'April 3 2019',
        tool: 'Sketch',
        creation:
            'Dark brown for the weight of human history. Vitruvian Man for a convolution of art, architecture and history (plus the drawing itself is often used as a symbol of humanity). Blue marble for all the adventures and explorations.',
    },
    {
        title: 'The Vitruvian Man',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'NARUTO'],
        description: 'The Vitruvian Man with the circle in the back giving a hint of the blue marble. ',
        image: 'Humanity.svg',
        date: 'April 3 2019',
        tool: 'Sketch',
        creation:
            'Dark brown for the weight of human history. Vitruvian Man for a convolution of art, architecture and history (plus the drawing itself is often used as a symbol of humanity). Blue marble for all the adventures and explorations.',
    },
    {
        title: 'Human Nature',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'The Vitruvian MEN are throwing a cocktail party.',
        image: 'Human Nature.svg',
        date: 'April 3 2019',
        tool: 'Sketch',
        creation: 'Mischievous pranks are part of the human nature.',
    },
    {
        title: 'Map',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'A map with a red pin and a few pathway marks.',
        image: 'Map.svg',
        date: 'July 25 2021',
        tool: 'Figma',
        creation: `I think this design is recognizable from a distance while still retain rich details for map-related topics. If you look close, you can even notice the <a href='https://en.wikipedia.org/wiki/Mercator_projection'>Mercator Projection</a> in the background.`,
    },
    {
        title: 'Black Cat',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0'],
        description: 'A black cat staring at you.',
        image: 'Black Cat.svg',
        date: 'September 21 2019',
        tool: 'Sketch',
        creation:
            "I don't really know how to draw cats, so I Googled a cat image and drew from it. I chose two different colors for the eyes because it further mystifies the cat.",
    },
    {
        title: 'Art',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'Ranquan-0'],
        description: 'A palette, a painting brush and a ruler.',
        image: 'Art.svg',
        date: 'March 27 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Justice and Fairness',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0'],
        description: 'A balance scale.',
        image: 'Wikipedia_zh_politics_n_admin.svg',
        date: 'September 21 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'ACG',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'PewDiePie'],
        description: 'Two comets, with blue and pink tails respectively, falling from the sky.',
        image: 'ACG.svg',
        date: 'July 27 2018',
        tool: 'Adobe Illustrator',
        creation:
            'Anime is a tough one to design for. It is hard to find one single artifact representative of the whole anime industry and, even if I can, it is really hard to fit with the style of all the other icons. Then one day I was listening to a soundtrack album from Kimi no Nawa, and suddenly it occured to me that the commets are great candidates for this task.',
    },
    {
        title: 'Repeater2',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0'],
        description: 'A repeater sitting on a dark purple background.',
        image: 'Repeater2.svg',
        date: 'September 21 2019',
        tool: 'Sketch',
        creation: 'N/A',
    },
    {
        title: 'Astrophysics',
        source: 'self-published',
        author: '燃灯',
        license: ['CC-BY-SA 4.0', 'NARUTO'],
        description: 'A black hole whose accretion disc is shinning upon a nearby planet.',
        image: 'Wikipedia_zh_physics_logo.svg',
        date: 'April 12 2019',
        tool: 'Sketch',
        creation:
            "I got the idea from the movie Interstellar, or to be more precise, from its chief scientist Kip Thorne's book The Science of Interstellar (yup I read the whole book). The blackhole was spinning so fast that its accretion disc has one side blue-shifted, and the otherside red-shifted.",
    },
];

var titles = (function () {
    var toReturn = [];
    for (var i = 0; i < icons.length; i++) {
        toReturn.push(icons[i].title);
    }
    return toReturn;
})();

var currentHover = -1;
var currentClick = -1;

$(function () {
    // if the URL is suffixed with more than just a "#", load the image (if exist)
    var decodedURL = decodeURIComponent(window.location.href);
    var poundSignLocation = decodedURL.indexOf('#');
    if (poundSignLocation != -1 && poundSignLocation < decodedURL.length - 1) {
        var URLParam = decodedURL.slice(poundSignLocation + 1);

        // when the parameter after the URL is one of the title of an icon, expand everything
        var URLIndex = titles.indexOf(URLParam);
        if (URLIndex > -1) {
            currentClick = URLIndex;
            $('#inspector').addClass('expanded');
            $('#inspector').addClass('unhidden');
            $('#background-blur').css('background-image', 'url("assets/' + icons[currentClick].image + '")');
            fillInTheInspectorWithDataGivenID(currentClick);
        }
    }

    var $iconsContainer = $('#icons-container');
    for (var i = 0; i < icons.length; i++) {
        thisIcon = icons[i];
        var newIcon = $('<div class="icons" id="icon' + i + '"></div>')
            .css('background-image', 'url("assets/' + thisIcon.image + '")')
            .mouseenter(function () {
                $('#inspector').addClass('unhidden');
                var id = parseInt($(this).attr('id').slice(4));
                fillInTheInspectorWithDataGivenID(id);
                $('#icon' + currentHover).removeClass('underlined');
                currentHover = id;
                $(this).addClass('underlined');
            })
            .mouseleave(function () {
                if (currentClick > -1) {
                    fillInTheInspectorWithDataGivenID(currentClick);
                    $('#icon' + currentHover).removeClass('underlined');
                }
            })
            .click(function () {
                $('.icons').removeClass('clicked');
                currentClick = currentHover;
                $(this).addClass('clicked');
            });
        $iconsContainer.append(newIcon);
    }
    $iconsContainer.append('<div style="clear:both;"></div>');

    $('#download-button, #secondDownloadButton').click(function () {
        if (currentClick > -1) {
            $(this).attr('href', 'assets/' + icons[currentClick].image);
            $(this).attr('download', icons[currentClick].image);
            $(this).attr('target', '_blank');
        } else if (currentHover > -1) {
            $(this).attr('href', 'assets/' + icons[currentHover].image);
            $(this).attr('download', icons[currentHover].image);
            $(this).attr('target', '_blank');
        } else {
            return;
        }
    });

    $('#more-button').click(function () {
        if (currentHover + currentClick === -2) {
            return;
        }

        if (currentClick != -1) {
            currentHover = -1;
        } else {
            currentClick = currentHover;
            currentHover = -1;
        }
        $('.icons').removeClass('clicked');
        $('.icons').removeClass('underlined');
        $('#icon' + currentClick).addClass('clicked');
        $('#inspector').addClass('expanded');
        $('#background-blur').css('background-image', 'url("assets/' + icons[currentClick].image + '")');
    });

    $('#x').click(function () {
        $('#background-blur').css('background-image', 'none');
        $('#inspector').removeClass('expanded');
    });
});

function fillInTheInspectorWithDataGivenID(id) {
    $('#title').html(icons[id].title);
    $('#source').html(icons[id].source);
    $('#author').html(icons[id].author);
    $('#description').html(icons[id].description);
    $('#date').html(icons[id].date);
    $('#tool').html(icons[id].tool);
    $('#cr8').html(icons[id].creation);
    $('#license').html('');
    for (var i = 0; i < icons[id].license.length; i++) {
        $('#license').append($('<a href="license.html#' + icons[id].license[i] + '">' + icons[id].license[i] + '</a>'));
    }
    $('#image').css('background-image', 'url("assets/' + icons[id].image + '")');
    $('#more-button').attr('href', '#' + encodeURIComponent(icons[id].title));
    $('#left, #right').off('click');
    $('#left').click(function () {
        currentClick = (id + icons.length - 1) % icons.length;
        fillInTheInspectorWithDataGivenID(currentClick);
        window.location = '#' + icons[currentClick].title;
    });
    $('#right').click(function () {
        currentClick = (id + 1) % icons.length;
        fillInTheInspectorWithDataGivenID(currentClick);
        window.location = '#' + icons[currentClick].title;
        console.log();
    });
    $('#background-blur').css('background-image', 'url("assets/' + icons[id].image + '")');
}
